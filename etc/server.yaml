
# Plugins to load, the httpserver and log plugins should be loaded first
plugins:
  - build/log.plugin
  - build/httpserver.plugin
  - build/basicauth.plugin
  - build/static.plugin
  - build/sqlite.plugin
  - build/template.plugin
  - build/mdns.plugin

# HTTP Server parameters
httpserver:
  addr: :80

# Handlers for serving plugins  
handlers:
  basicauth:
    prefix: /api/basicauth
    middleware:
      - log
      - basicauth
  static:
    prefix: /
    middleware:
      - log
  sqlite:
    prefix: /api/sqlite
    middleware:
      - log
      - basicauth
  mdns:
    prefix: /api/mdns
    middleware:
      - log
      - basicauth

# Authentication
basicauth:
  realm: "go-server"
  path: etc/htpasswd
  admin: root

# Where to serve static files from
static:
  path: npm/mdns/dist

sqlite:
  databases:
    test: /tmp/test.sqlite

# Render templates from path
template:
  path: .
  templates: etc/templates
  default: default.tmpl

# mDNS service databases
mdns:
  services:
    - https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xml
    - etc/service-names-port-numbers.xml

